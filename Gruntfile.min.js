"use strict";
var packagejson = require("./package.json");
var config = {pkg: packagejson, app: "src", dist: "dist"};
module.exports = function (a) {
    a.initConfig({
        config: config,
        pkg: config.pkg,
        bower: a.file.readJSON("./.bowerrc"),
        coffee: {compile: {files: {"dist/<%= pkg.name %>.js": "src/<%= pkg.name %>.coffee"}}},
        coffee_jshint: {build: ["<%= pkg.name %>.coffee"]},
        uglify: {
            options: {banner: '/*! <%= pkg.name %> - v<%= pkg.version %> - <%= grunt.template.today("yyyy-mm-dd") %> */'},
            build: {src: "<%= config.dist %>/<%= pkg.name %>.js", dest: "<%= config.dist %>/<%= pkg.name %>.min.js"}
        },
        sass: {dist: {options: {style: "expanded"}, files: {"dist/<%= pkg.name %>.css": "src/<%= pkg.name %>.scss"}}}
    });
    a.registerTask("default", ["coffee_jshint", "coffee", "uglify", "sass"]);
    a.loadNpmTasks("grunt-contrib-jshint");
    a.loadNpmTasks("grunt-contrib-uglify");
    a.loadNpmTasks("grunt-contrib-coffee");
    a.loadNpmTasks("grunt-coffee-jshint");
    a.loadNpmTasks("grunt-contrib-sass")
};